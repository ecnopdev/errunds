(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},n={app:0},r=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=o("bc3a"),r=o.n(n),s=o("a7fe"),i=o.n(s);a["a"].use(i.a,r.a);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",["/login"!=t.$route.path?a("v-app-bar",{attrs:{app:"",color:"white"}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticStyle:{width:"60px"},attrs:{src:o("b177")}}),a("div",{staticClass:"headline"},[t._v("Errunds")])],1),a("v-spacer"),a("v-icon",{staticClass:"pa-3",attrs:{size:"x-large"},on:{click:t.viewProfile}},[t._v("mdi-account")]),a("v-icon",{staticClass:"pa-3",attrs:{size:"x-large"},on:{click:t.signOut}},[t._v("mdi-logout")])],1):t._e(),a("v-content",[a("router-view")],1),a("SnackBar")],1)},l=[],u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-snackbar",{attrs:{value:t.isVisible}},[t._v(" "+t._s(t.text)+" "),o("v-btn",{attrs:{color:"red",text:""},on:{click:t.hideSnackBar}},[t._v(" Close ")])],1)},d=[],m={computed:{text:function(){return this.$store.getters.getSnackBarText},isVisible:function(){return console.log(this.$store.getters),this.$store.getters.checkSnackBarVisible}},methods:{hideSnackBar:function(){this.$store.commit("hideSnackBar")}}},f=m,g=o("2877"),h=o("6544"),v=o.n(h),p=o("8336"),k=o("2db4"),b=Object(g["a"])(f,u,d,!1,null,null,null),x=b.exports;v()(b,{VBtn:p["a"],VSnackbar:k["a"]});var S={name:"App",components:{SnackBar:x},data:function(){return{}},methods:{viewProfile:function(){this.$router.push("/profile")},signOut:function(){this.$store.dispatch("user/signOut",{vm:this})}}},_=S,I=o("7496"),w=o("40dc"),T=o("a75b"),B=o("132d"),C=o("adda"),A=o("2fa4"),y=Object(g["a"])(_,c,l,!1,null,null,null),R=y.exports;v()(y,{VApp:I["a"],VAppBar:w["a"],VContent:T["a"],VIcon:B["a"],VImg:C["a"],VSpacer:A["a"]});var V=o("f309");a["a"].use(V["a"]);var j=new V["a"]({theme:{themes:{light:{primary:"#1b585c",secondary:"#b0bec5",anchor:"#8c9eff"}}}}),O=o("2f62");a["a"].use(O["a"]);var U=O["a"],P=(o("99af"),{namespaced:!0,state:{activeUser:JSON.parse(localStorage.getItem("activeUser"))||null,activeRole:localStorage.getItem("activeRole")||null,accessToken:localStorage.getItem("accessToken")||null},getters:{getActiveUser:function(t){return t.activeUser},getActiveRole:function(t){return t.activeRole},getAccessToken:function(t){return t.accessToken}},mutations:{setActiveUser:function(t,e){t.activeUser=e,localStorage.setItem("activeUser",JSON.stringify(e))},setActiveRole:function(t,e){t.activeRole=e,localStorage.setItem("activeRole",e)},setAccessToken:function(t,e){t.accessToken=e,localStorage.setItem("accessToken",e)}},actions:{authenticate:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return"Worker"==e.type?a["a"].axios.post("".concat(o,"/worker/login_worker.php"),{username:e.username,password:e.password}):a["a"].axios.post("".concat(o,"/customer/login_customer.php"),{username:e.username,password:e.password})},signOut:function(t,e){t.state.activeUser=null,localStorage.setItem("activeUser",null),e.vm.$router.push("/login")},update:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n=t.state.accessToken,r=t.state.activeRole;return"Worker"==r?a["a"].axios.put("".concat(o,"/worker/update_worker.php"),e,{headers:{Authorization:n}}):a["a"].axios.put("".concat(o,"/customer/update_customer.php"),e,{headers:{Authorization:n}})}}}),$={namespaced:!0,state:{},getters:{},mutation:{},actions:{create:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n={creation_date:(new Date).toISOString().substr(0,10),booking_date:e.booking_date,start_time:e.start_time,end_time:e.end_time,status:"pending",rating:null,comments:"",customer_id:t.rootState.user.activeUser.id,worker_id:e.worker_id},r=t.rootState.user.accessToken;return a["a"].axios.post("".concat(o,"/booking/create_booking.php"),n,{headers:{Authorization:r}})},update:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n=t.rootState.user.accessToken;return a["a"].axios.put("".concat(o,"/booking/update_booking.php"),e,{headers:{Authorization:n}})},delete:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n=t.rootState.user.accessToken;return a["a"].axios.delete("".concat(o,"/booking/delete_booking.php"),{headers:{Authorization:n},data:e})},getAll:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n=t.rootState.user.accessToken,r=t.rootState.user.activeRole;return"Worker"==r?a["a"].axios.get("".concat(o,"/booking/read_worker_bookings.php?worker_id=").concat(e.id),{headers:{Authorization:n}}):a["a"].axios.get("".concat(o,"/booking/read_customer_bookings.php?customer_id=").concat(e.id),{headers:{Authorization:n}})},getByID:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n=t.rootState.user.accessToken;return a["a"].axios.get("".concat(o,"/booking/read_single_booking.php?id=").concat(e.id),{headers:{Authorization:n}})}}},D={namespaced:!0,state:{activeWorker:null},getters:{getActiveWorker:function(t){return t.activeWorker}},mutations:{setActiveWorker:function(t,e){t.activeWorker=e}},actions:{getAll:function(t,e){var o="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),n="booking_date=".concat(e.bookingDate,"&start_time=").concat(e.startTime,"&end_time=").concat(e.endTime),r=t.rootState.user.accessToken;return a["a"].axios.get("".concat(o,"/worker/read_workers.php?").concat(n),{headers:{Authorization:r}})}}},L={namespaced:!0,state:{},getters:{},mutations:{},actions:{getAll:function(t){var e="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath),o=t.rootState.user.accessToken;return a["a"].axios.get("".concat(e,"/job/read_jobs.php"),{headers:{Authorization:o}})}}},G=new U.Store({modules:{user:P,booking:$,worker:D,job:L},state:{apiHost:"http://35.220.218.168",apiPort:"80",apiBasePath:"/server/api",isSnackBarVisible:!1,snackBarText:"SnackBar text."},getters:{getSnackBarText:function(t){return t.snackBarText},checkSnackBarVisible:function(t){return t.isSnackBarVisible}},mutations:{showSnackBar:function(t){t.isSnackBarVisible=!0},hideSnackBar:function(t){t.isSnackBarVisible=!1},setSnackBarText:function(t,e){t.snackBarText=e}},actions:{}}),Y=o("8c4f");a["a"].use(Y["a"]);var E=Y["a"],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-row",[a("v-col",{staticClass:"pa-6",attrs:{align:"center",justify:"center"}},[a("form",{staticStyle:{"max-width":"400px"}},[a("v-img",{attrs:{src:o("9fdf")}}),a("v-text-field",{attrs:{label:"Username"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-combobox",{attrs:{items:t.accountTypeOptions,label:"Account Type"},model:{value:t.accountType,callback:function(e){t.accountType=e},expression:"accountType"}}),a("v-btn",{staticClass:"mr-4",attrs:{width:"100%",color:"primary"},on:{click:t.submit}},[t._v("Submit")])],1)])],1)],1)},N=[],W=(o("b0c0"),{data:function(){return{name:"",password:"",accountType:"Customer",accountTypeOptions:["Customer","Worker"],select:null,checkbox:!1}},computed:{},methods:{submit:function(){var t=this;this.$store.dispatch("user/authenticate",{username:this.name,password:this.password,type:this.accountType,vm:this}).then((function(e){console.log(e),"Login failed"!==e.data?(t.$store.commit("user/setActiveUser",e.data["user_array"]),t.$store.commit("user/setActiveRole",t.accountType),t.$store.commit("user/setAccessToken",e.data["token"]),t.$router.push("/")):(t.$store.commit("setSnackBarText","Invalid Credentials!"),t.$store.commit("showSnackBar"))})).catch((function(e){console.log(e),t.$store.commit("setSnackBarText","Authentication Failed!"),t.$store.commit("showSnackBar")}))},clear:function(){this.$v.$reset(),this.name="",this.email="",this.select=null,this.checkbox=!1}}}),q=W,H=o("62ad"),F=o("2b5d"),K=o("a523"),M=o("0fd9"),J=o("8654"),X=Object(g["a"])(q,z,N,!1,null,null,null),Z=X.exports;v()(X,{VBtn:p["a"],VCol:H["a"],VCombobox:F["a"],VContainer:K["a"],VImg:C["a"],VRow:M["a"],VTextField:J["a"]});var Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[o("v-dialog",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return["Customer"==t.activeRole?o("v-btn",t._g({attrs:{color:"primary"}},a),[t._v("New Booking")]):t._e()]}}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[o("v-card",[o("v-card-title",[t._v(" New booking "),o("v-spacer"),o("v-icon",{on:{click:function(e){t.search=!1}}},[t._v("mdi-close")])],1),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{staticClass:"grey lighten-3"},[o("v-select",{attrs:{label:"Job Type",items:t.jobOptions,required:""},model:{value:t.jobType,callback:function(e){t.jobType=e},expression:"jobType"}}),o("DatePicker",{model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}}),o("div",{staticClass:"d-flex flex-row align-center"},[o("v-select",{attrs:{label:"Start Time",items:t.timeOptions},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),o("div",{staticClass:"mx-3"},[t._v("to")]),o("v-select",{attrs:{label:"End Time",items:t.timeOptions},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),o("v-btn",{on:{click:t.clearSearch}},[t._v("Clear")]),o("v-btn",{staticClass:"success",on:{click:t.getWorkers}},[t._v("Search")])],1),""!=this.bookingDate&&""!=this.startTime&&""!=this.endTime&&t.availableWorkers.length>0?o("v-col",[o("v-list",{attrs:{subheader:""}},[o("v-subheader",[t._v("Available Workers")]),t._l(t.availableWorkers,(function(e,a){return[o("v-list-item",{key:e.id+e.first_name},[o("v-list-item-content",[o("v-list-item-title",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),o("v-list-item-subtitle",{staticClass:"d-flex flex-row align-center"},[o("v-rating",{attrs:{color:"orange lighten-1",readonly:"",value:e.average_rating}}),o("span",{staticClass:"font-weight-bold"},[t._v("("+t._s(e.average_rating)+")")])],1)],1),o("v-list-item-action",[o("v-btn",{attrs:{disabled:""==t.startTime||""==t.endTime,color:"primary"},on:{click:function(o){return t.createBooking(e.id)}}},[t._v("Create Booking")])],1)],1),o("v-divider",{key:a})]}))],2)],1):t._e()],1)],1)],1)],1)],1)],1)],1),o("v-row",{staticClass:"text-center",attrs:{"no-gutters":""}},[o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("v-row",{attrs:{justify:"center"}},[o("BookingList",{ref:"bookingList"})],1)],1)],1)],1)},tt=[],et=(o("4160"),o("ac1f"),o("5319"),o("841c"),o("1276"),o("159b"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",[o("v-col",[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"sort-by":"booking_date","sort-desc":!0},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[o("v-chip",{attrs:{color:t.getColor(a.status),dark:""}},[t._v(t._s(a.status))])]}},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a.id)}}},[t._v("mdi-pencil")]),"pending"==a.status&&"Customer"==t.activeRole?o("v-icon",{attrs:{small:""},on:{click:function(e){return t.checkDelete(a.id)}}},[t._v("mdi-delete")]):t._e()]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1),o("v-dialog",{attrs:{persistent:"","max-width":"320"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("Cancel / Delete Booking")]),o("v-card-text",[t._v("Are you sure you want to delete this booking request?")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("No")]),o("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.deleteItem}},[t._v("Yes")])],1)],1)],1)],1)}),ot=[],at={data:function(){return{dialog:!1,headers:[{text:"Booking Date",align:"start",sortable:!0,value:"booking_date"},{text:"Worker Name",value:"worker_fullname"},{text:"Start Time",value:"start_time"},{text:"End Time",value:"end_time"},{text:"Status",value:"status"},{text:"Actions",value:"actions",sortable:!1}],items:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},itemToBeDeleted:-1}},computed:{activeUser:function(){return this.$store.getters["user/getActiveUser"]},activeRole:function(){return this.$store.getters["user/getActiveRole"]}},mounted:function(){this.setHeaders(),this.refreshItems()},methods:{setHeaders:function(){console.log(this.activeRole),"Worker"==this.activeRole?(this.headers[1].text="Customer Name",this.headers[1].value="customer_fullname"):(this.headers[1].text="Worker Name",this.headers[1].value="worker_fullname")},save:function(){},editItem:function(t){this.$router.push("/booking/".concat(t))},checkDelete:function(t){this.itemToBeDeleted=t,this.dialog=!0},deleteItem:function(){var t=this,e={id:this.itemToBeDeleted};console.log(e),this.$store.dispatch("booking/delete",e).then((function(e){console.log(e),t.$store.commit("setSnackBarText","Booking successfully deleted!"),t.$store.commit("showSnackBar"),t.search=!1,t.dialog=!1,t.refreshItems()})).catch((function(e){t.dialog=!1,console.log(e),t.$store.commit("setSnackBarText","Error encountered while deleting your booking."),t.$store.commit("showSnackBar")}))},initialize:function(){},refreshItems:function(){var t=this;this.items=[],this.$store.dispatch("booking/getAll",this.activeUser).then((function(e){e.data.data.forEach((function(e){e.customer_fullname="".concat(e.customer_firstname," ").concat(e.customer_lastname),e.worker_fullname="".concat(e.worker_firstname," ").concat(e.worker_lastname),t.items.push(e)}))})).catch((function(t){console.log(t)}))},getColor:function(t){return"pending"==t?"red":"rejected"==t||"scheduled"==t?"blue":"ongoing"==t?"orange":"green"}}},nt=at,rt=o("b0af"),st=o("99d9"),it=o("cc20"),ct=o("8fea"),lt=o("169a"),ut=Object(g["a"])(nt,et,ot,!1,null,null,null),dt=ut.exports;v()(ut,{VBtn:p["a"],VCard:rt["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VChip:it["a"],VCol:H["a"],VContainer:K["a"],VDataTable:ct["a"],VDialog:lt["a"],VIcon:B["a"],VRow:M["a"],VSpacer:A["a"]});var mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-text-field",t._g({attrs:{label:"Booking Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},a))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[o("v-date-picker",{on:{input:t.setDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)},ft=[],gt={data:function(){return{date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1}},methods:{setDate:function(){this.$emit("input",this.date),this.menu2=!1}}},ht=gt,vt=o("2e4b"),pt=o("e449"),kt=Object(g["a"])(ht,mt,ft,!1,null,null,null),bt=kt.exports;v()(kt,{VDatePicker:vt["a"],VMenu:pt["a"],VTextField:J["a"]});var xt={name:"Dashboard",components:{BookingList:dt,DatePicker:bt},data:function(){return{currentUser:"",name:"",search:!1,timeOptions:[],jobOptions:[],jobType:1,bookingDate:(new Date).toISOString().substr(0,10),startTime:"",endTime:"",availableWorkers:[]}},computed:{activeUser:function(){return this.$store.getters["user/getActiveUser"]},activeRole:function(){return this.$store.getters["user/getActiveRole"]},convertRating:function(t){return parseInt(t)}},mounted:function(){this.name=this.$route.params.name,this.timeOptions=this.getTimeOptions(),this.getJobOptions()},watch:{jobType:function(){this.availableWorkers=[]},bookingDate:function(){this.availableWorkers=[]},startTime:function(t){this.getNumTimeValue(t)>this.getNumTimeValue(this.endTime)&&(this.endTime=this.getAdjustedTime(t,1)),this.availableWorkers=[]},endTime:function(t){this.getNumTimeValue(t)<this.getNumTimeValue(this.startTime)&&(this.startTime=this.getAdjustedTime(t,-1)),this.availableWorkers=[]}},methods:{createBooking:function(t){var e=this,o={booking_date:this.bookingDate,start_time:this.startTime,end_time:this.endTime,worker_id:t};this.$store.dispatch("booking/create",o).then((function(t){console.log(t),e.$store.commit("setSnackBarText","New booking has been successfully created!"),e.$store.commit("showSnackBar"),e.search=!1,e.$refs.bookingList.refreshItems()})).catch((function(t){console.log(t),e.$store.commit("setSnackBarText","Error encountered while creating your booking."),e.$store.commit("showSnackBar")}))},signOut:function(){this.$store.commit("user/setActiveUser",null),this.$store.commit("user/setAccessToken",null),this.$router.push("/login")},getPaddedTimeValue:function(t){return t<10?"0"+t:t},getNumTimeValue:function(t){return t?parseInt(t.replace(":","")):t},getAdjustedTime:function(t,e){if(t){var o=t.split(":"),a=o[0],n=o[1],r=parseInt(a)+e;return this.getPaddedTimeValue(r)+":"+n}return t},getTimeOptions:function(){for(var t=[],e=0;e<24;e++){var o=this.getPaddedTimeValue(e);t.push("".concat(o,":00")),t.push("".concat(o,":30"))}return t},getWorkers:function(){var t=this;this.$store.dispatch("worker/getAll",{bookingDate:this.bookingDate,startTime:this.startTime,endTime:this.endTime}).then((function(e){console.log(e),t.availableWorkers=[],e.data.data.forEach((function(e){e.average_rating=parseInt(e.average_rating),console.log(e),console.log("FILTER JOB TYPE: "+t.jobType),t.jobType==e.job_id&&t.availableWorkers.push(e)}))})).catch((function(t){console.log(t)}))},getJobOptions:function(){var t=this;this.$store.dispatch("job/getAll").then((function(e){e.data.data.forEach((function(e){t.jobOptions.push({text:e.name,value:e.id})}))})).catch((function(e){console.log(e),t.jobOptions=[{text:"Laundry",value:1}]}))},clearSearch:function(){this.availableWorkers=[]}}},St=xt,_t=o("ce7e"),It=o("8860"),wt=o("da13"),Tt=o("1800"),Bt=o("5d23"),Ct=o("1d4d"),At=o("b974"),yt=o("e0c7"),Rt=Object(g["a"])(St,Q,tt,!1,null,null,null),Vt=Rt.exports;v()(Rt,{VBtn:p["a"],VCard:rt["a"],VCardText:st["b"],VCardTitle:st["c"],VCol:H["a"],VContainer:K["a"],VDialog:lt["a"],VDivider:_t["a"],VIcon:B["a"],VList:It["a"],VListItem:wt["a"],VListItemAction:Tt["a"],VListItemContent:Bt["a"],VListItemSubtitle:Bt["b"],VListItemTitle:Bt["c"],VRating:Ct["a"],VRow:M["a"],VSelect:At["a"],VSpacer:A["a"],VSubheader:yt["a"]});var jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",[o("v-col",{staticClass:"mb-4"},[o("h1",[t._v("Profile Information")]),o("v-form",[o("p",[t._v("Username: "+t._s(t.userInfo.username))]),o("p",[t._v("Role: "+t._s(t.activeRole))]),o("v-text-field",{attrs:{label:"First Name"},model:{value:t.userInfo.first_name,callback:function(e){t.$set(t.userInfo,"first_name",e)},expression:"userInfo.first_name"}}),o("v-text-field",{attrs:{label:"Last Name"},model:{value:t.userInfo.last_name,callback:function(e){t.$set(t.userInfo,"last_name",e)},expression:"userInfo.last_name"}}),o("v-text-field",{attrs:{label:"Address"},model:{value:t.userInfo.address,callback:function(e){t.$set(t.userInfo,"address",e)},expression:"userInfo.address"}}),o("v-text-field",{attrs:{label:"Email"},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}}),o("v-text-field",{attrs:{label:"Contact"},model:{value:t.userInfo.contact,callback:function(e){t.$set(t.userInfo,"contact",e)},expression:"userInfo.contact"}}),o("div",{staticClass:"d-flex flex-row"},[o("v-btn",{on:{click:t.goBack}},[t._v("Back")]),o("v-btn",{staticClass:"success",on:{click:t.updateProfile}},[t._v("Update")])],1)],1)],1)],1)],1)},Ot=[],Ut={data:function(){return{userInfo:{}}},computed:{activeUser:function(){return this.$store.getters["user/getActiveUser"]},activeRole:function(){return this.$store.getters["user/getActiveRole"]}},beforeMount:function(){var t=this.$store.getters["user/getActiveUser"];console.log(t),Object.assign(this.userInfo,t)},methods:{goBack:function(){this.$router.go(-1)},updateProfile:function(){var t=this;console.log(this.userInfo),this.$store.dispatch("user/update",this.userInfo).then((function(e){e&&(t.$store.commit("user/setActiveUser",t.userInfo),t.$store.commit("setSnackBarText","Your profile has been successfully updated!"),t.$store.commit("showSnackBar"),t.$router.go(-1))})).catch((function(e){t.$store.commit("setSnackBarText","Error was encounted when updating your profile."),t.$store.commit("showSnackBar"),console.log(e)}))}}},Pt=Ut,$t=o("4bd4"),Dt=Object(g["a"])(Pt,jt,Ot,!1,null,null,null),Lt=Dt.exports;v()(Dt,{VBtn:p["a"],VCol:H["a"],VContainer:K["a"],VForm:$t["a"],VRow:M["a"],VTextField:J["a"]});var Gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("h1",[t._v("Booking Information")]),o("v-form",[o("p",[t._v("Creation Date: "+t._s(t.bookingInfo.creation_date))]),o("p",[t._v("Booking Date: "+t._s(t.bookingInfo.booking_date))]),o("p",[t._v("Start Time: "+t._s(t.bookingInfo.start_time))]),o("p",[t._v("End Time: "+t._s(t.bookingInfo.end_time))]),o("p",[t._v("Status: "+t._s(t.bookingInfo.status))]),o("p",[t._v("Customer: "+t._s(t.bookingInfo.customer_firstname)+" "+t._s(t.bookingInfo.customer_lastname))]),o("p",[t._v("Worker: "+t._s(t.bookingInfo.worker_firstname)+" "+t._s(t.bookingInfo.worker_lastname))]),o("br"),"ongoing"==t.bookingInfo.status||"completed"==t.bookingInfo.status?[o("v-text-field",{attrs:{disabled:"Worker"==t.activeRole,label:"Comments"},model:{value:t.bookingInfo.comments,callback:function(e){t.$set(t.bookingInfo,"comments",e)},expression:"bookingInfo.comments"}}),o("p",[t._v("Rating ("+t._s(t.bookingInfo.rating||0)+")")]),o("v-rating",{attrs:{readonly:"Worker"==t.activeRole,color:"orange lighten-1",label:"Rating"},model:{value:t.bookingInfo.rating,callback:function(e){t.$set(t.bookingInfo,"rating",e)},expression:"bookingInfo.rating"}},[t._v("Rating")])]:t._e(),o("br"),o("v-btn",{staticClass:"mr-1",on:{click:t.goBack}},[t._v("Back")]),"pending"==t.bookingInfo.status&&"Worker"==t.activeRole?o("v-btn",{staticClass:"mr-1 blue",attrs:{dark:""},on:{click:function(e){return t.updateBookingStatus("scheduled")}}},[t._v("Approve")]):t._e(),"pending"==t.bookingInfo.status&&"Worker"==t.activeRole?o("v-btn",{staticClass:"mr-1 red",attrs:{dark:""},on:{click:function(e){return t.updateBookingStatus("rejected")}}},[t._v("Reject")]):t._e(),"scheduled"==t.bookingInfo.status&&"Customer"==t.activeRole?o("v-btn",{staticClass:"mr-1 orange",on:{click:function(e){return t.updateBookingStatus("ongoing")}}},[t._v("Start Job")]):t._e(),"ongoing"==t.bookingInfo.status&&"Customer"==t.activeRole?o("v-btn",{staticClass:"mr-1 success",attrs:{disabled:""==t.bookingInfo.rating||""==t.bookingInfo.comments},on:{click:function(e){return t.updateBookingStatus("completed")}}},[t._v("Mark as Complete")]):t._e()],2)],1)},Yt=[],Et={data:function(){return{bookingInfo:{}}},beforeMount:function(){this.getBookingInfo()},computed:{activeRole:function(){return this.$store.getters["user/getActiveRole"]}},methods:{goBack:function(){this.$router.go(-1)},getBookingInfo:function(){var t=this,e=this.$route.params.id;this.$store.dispatch("booking/getByID",{id:e}).then((function(e){console.log(e.data),t.bookingInfo=e.data,"number"!=typeof t.bookingInfo.rating&&(t.bookingInfo.rating=parseInt(t.bookingInfo.rating))})).catch((function(t){console.log(t)}))},updateBookingStatus:function(t){var e=this;this.bookingInfo.status=t,this.$store.dispatch("booking/update",this.bookingInfo).then((function(t){console.log(t),e.$store.commit("setSnackBarText","Booking has been successfully updated!"),e.$store.commit("showSnackBar"),e.$router.go(-1)})).catch((function(t){console.log(t),e.$store.commit("setSnackBarText","Error was encounted when updating this booking."),e.$store.commit("showSnackBar")}))}}},zt=Et,Nt=Object(g["a"])(zt,Gt,Yt,!1,null,null,null),Wt=Nt.exports;v()(Nt,{VBtn:p["a"],VContainer:K["a"],VForm:$t["a"],VRating:Ct["a"],VTextField:J["a"]});var qt=[{path:"/login",component:Z},{path:"/profile",component:Lt},{path:"/",component:Vt},{path:"/booking/:id",component:Wt}],Ht=new E({routes:qt});Ht.beforeEach((function(t,e,o){var a=Ht.app.$store.getters["user/getActiveUser"];null==a?"/login"!=t.path?o({path:"/login",params:{nextUrl:t.fullPath}}):o():"/login"==t.path?o({path:"/",params:{nextUrl:t.fullPath}}):o()}));var Ft=Ht;a["a"].config.productionTip=!1,new a["a"]({vuetify:j,store:G,router:Ft,render:function(t){return t(R)}}).$mount("#app")},"9fdf":function(t,e,o){t.exports=o.p+"img/errunds-logo.8fedbf3e.svg"},b177:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.21d51f0d.js.map