(function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],m=0,d=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},n={app:0},r=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=a("bc3a"),r=a.n(n),i=a("a7fe"),s=a.n(i);o["a"].use(s.a,r.a);var c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",["/login"!=t.$route.path?o("v-app-bar",{attrs:{app:"",color:"white"}},[o("div",{staticClass:"d-flex align-center"},[o("v-img",{staticStyle:{width:"60px"},attrs:{src:a("b177")}}),o("div",{staticClass:"headline"},[t._v("Errunds")])],1),o("v-spacer"),o("v-icon",{staticClass:"pa-3",attrs:{size:"x-large"},on:{click:t.viewProfile}},[t._v("mdi-account")]),o("v-icon",{staticClass:"pa-3",attrs:{size:"x-large"},on:{click:t.signOut}},[t._v("mdi-logout")])],1):t._e(),o("v-content",[o("router-view")],1),o("SnackBar")],1)},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{value:t.isVisible}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.hideSnackBar}},[t._v(" Close ")])],1)},m=[],d={computed:{text:function(){return this.$store.getters.getSnackBarText},isVisible:function(){return console.log(this.$store.getters),this.$store.getters.checkSnackBarVisible}},methods:{hideSnackBar:function(){this.$store.commit("hideSnackBar")}}},f=d,g=a("2877"),v=a("6544"),p=a.n(v),h=a("8336"),k=a("2db4"),b=Object(g["a"])(f,u,m,!1,null,null,null),S=b.exports;p()(b,{VBtn:h["a"],VSnackbar:k["a"]});var x={name:"App",components:{SnackBar:S},data:function(){return{}},methods:{viewProfile:function(){this.$router.push("/profile")},signOut:function(){this.$store.dispatch("user/signOut",{vm:this})}}},I=x,_=a("7496"),w=a("40dc"),B=a("a75b"),C=a("132d"),y=a("adda"),T=a("2fa4"),A=Object(g["a"])(I,c,l,!1,null,null,null),V=A.exports;p()(A,{VApp:_["a"],VAppBar:w["a"],VContent:B["a"],VIcon:C["a"],VImg:y["a"],VSpacer:T["a"]});var U=a("f309");o["a"].use(U["a"]);var j=new U["a"]({theme:{themes:{light:{primary:"#1b585c",secondary:"#b0bec5",anchor:"#8c9eff"}}}}),O=a("2f62");o["a"].use(O["a"]);var P=O["a"],R=(a("99af"),{namespaced:!0,state:{activeUser:JSON.parse(localStorage.getItem("activeUser"))||null},getters:{getActiveUser:function(t){return t.activeUser}},mutations:{setActiveUser:function(t,e){t.activeUser=e,localStorage.setItem("activeUser",JSON.stringify(e))}},actions:{authenticate:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return o["a"].axios.post("".concat(a,"/customer/login_customer.php"),{username:e.username,password:e.password})},signOut:function(t,e){t.state.activeUser=null,localStorage.setItem("activeUser",null),e.vm.$router.push("/login")},update:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return o["a"].axios.put("".concat(a,"/customer/update_customer.php"),e)}}}),L={namespaced:!0,state:{},getters:{},mutation:{},actions:{create:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);console.log(t.rootState.user.activeUser.id);var n={creation_date:(new Date).toISOString().substr(0,10),booking_date:e.booking_date,start_time:e.start_time,end_time:e.end_time,status:"pending",rating:null,comments:"",customer_id:t.rootState.user.activeUser.id,worker_id:e.worker_id};return console.log(n),o["a"].axios.post("".concat(a,"/booking/create_booking.php"),n)},update:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return o["a"].axios.put("".concat(a,"/booking/update_booking.php"),e)},delete:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return o["a"].axios.delete("".concat(a,"/booking/delete_booking.php"),{data:e})},getAll:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return o["a"].axios.get("".concat(a,"/booking/read_customer_bookings.php?customer_id=").concat(e.id))},getByID:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);return o["a"].axios.get("".concat(a,"/booking/read_single_booking.php?id=").concat(e.id))}}},G={namespaced:!0,state:{activeWorker:null},getters:{getActiveWorker:function(t){return t.activeWorker}},mutations:{setActiveWorker:function(t,e){t.activeWorker=e}},actions:{getAll:function(t,e){var a="".concat(t.rootState.apiHost,":").concat(t.rootState.apiPort).concat(t.rootState.apiBasePath);console.log(e);var n="booking_date=".concat(e.bookingDate,"&start_time=").concat(e.startTime,"&end_time=").concat(e.endTime);return o["a"].axios.get("".concat(a,"/worker/read_workers.php?").concat(n))}}},$=new P.Store({modules:{user:R,booking:L,worker:G},state:{apiHost:"http://35.220.218.168",apiPort:"80",apiBasePath:"/server/api",isSnackBarVisible:!1,snackBarText:"SnackBar text."},getters:{getSnackBarText:function(t){return t.snackBarText},checkSnackBarVisible:function(t){return t.isSnackBarVisible}},mutations:{showSnackBar:function(t){t.isSnackBarVisible=!0},hideSnackBar:function(t){t.isSnackBarVisible=!1},setSnackBarText:function(t,e){t.snackBarText=e}},actions:{}}),D=a("8c4f");o["a"].use(D["a"]);var Y=D["a"],E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{"fill-height":""}},[o("v-row",[o("v-col",{staticClass:"pa-6",attrs:{align:"center",justify:"center"}},[o("form",{staticStyle:{"max-width":"400px"}},[o("v-img",{attrs:{src:a("9fdf")}}),o("v-text-field",{attrs:{label:"Username"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),o("v-btn",{staticClass:"mr-4",attrs:{width:"100%",color:"primary"},on:{click:t.submit}},[t._v("Submit")])],1)])],1)],1)},q=[],F=(a("b0c0"),{data:function(){return{name:"",password:"",select:null,items:["Customer","Worker"],checkbox:!1}},computed:{},methods:{submit:function(){var t=this;this.$store.dispatch("user/authenticate",{username:this.name,password:this.password,vm:this}).then((function(e){console.log(e),"Login failed"!==e.data?(t.$store.commit("user/setActiveUser",e.data),t.$router.push("/")):(t.$store.commit("setSnackBarText","Invalid Credentials!"),t.$store.commit("showSnackBar"))})).catch((function(e){console.log(e),t.$store.commit("setSnackBarText","Authentication Failed!"),t.$store.commit("showSnackBar")}))},clear:function(){this.$v.$reset(),this.name="",this.email="",this.select=null,this.checkbox=!1}}}),H=F,K=a("62ad"),N=a("a523"),z=a("0fd9"),M=a("8654"),W=Object(g["a"])(H,E,q,!1,null,null,null),X=W.exports;p()(W,{VBtn:h["a"],VCol:K["a"],VContainer:N["a"],VImg:y["a"],VRow:z["a"],VTextField:M["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-dialog",{scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({attrs:{color:"primary"}},o),[t._v("New Booking")])]}}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("v-card",[a("v-card-title",[t._v(" New booking "),a("v-spacer"),a("v-icon",{on:{click:function(e){t.search=!1}}},[t._v("mdi-close")])],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"grey lighten-3"},[a("v-select",{attrs:{label:"Job Type",items:["Laundry","House Keeping"]},model:{value:t.jobType,callback:function(e){t.jobType=e},expression:"jobType"}}),a("DatePicker",{model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}}),a("div",{staticClass:"d-flex flex-row align-center"},[a("v-select",{attrs:{label:"Start Time",items:t.timeOptions},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),a("div",{staticClass:"mx-3"},[t._v("to")]),a("v-select",{attrs:{label:"End Time",items:t.timeOptions},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),a("v-btn",{on:{click:t.clearSearch}},[t._v("Clear")]),a("v-btn",{staticClass:"success",on:{click:t.getWorkers}},[t._v("Search")])],1),""!=this.bookingDate&&""!=this.startTime&&""!=this.endTime&&t.availableWorkers.length>0?a("v-col",[a("v-list",{attrs:{subheader:""}},[a("v-subheader",[t._v("Available Workers")]),t._l(t.availableWorkers,(function(e,o){return[a("v-list-item",{key:e.id+e.first_name},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),a("v-list-item-subtitle",{staticClass:"d-flex flex-row align-center"},[a("v-rating",{attrs:{color:"orange lighten-1",readonly:"",value:e.average_rating}}),a("span",{staticClass:"font-weight-bold"},[t._v("("+t._s(e.average_rating)+")")])],1)],1),a("v-list-item-action",[a("v-btn",{attrs:{disabled:""==t.startTime||""==t.endTime,color:"primary"},on:{click:function(a){return t.createBooking(e.id)}}},[t._v("Create Booking")])],1)],1),a("v-divider",{key:o})]}))],2)],1):t._e()],1)],1)],1)],1)],1)],1)],1),a("v-row",{staticClass:"text-center",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[a("v-row",{attrs:{justify:"center"}},[a("BookingList",{ref:"bookingList"})],1)],1)],1)],1)},Z=[],Q=(a("4160"),a("ac1f"),a("841c"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"sort-by":"booking_date","sort-desc":!0},scopedSlots:t._u([{key:"item.status",fn:function(e){var o=e.item;return[a("v-chip",{attrs:{color:t.getColor(o.status),dark:""}},[t._v(t._s(o.status))])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o.id)}}},[t._v("mdi-pencil")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(o.id)}}},[t._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1)}),tt=[],et={data:function(){return{dialog:!1,headers:[{text:"Booking Date",align:"start",sortable:!0,value:"booking_date"},{text:"Worker Name",value:"worker_fullname"},{text:"Start Time",value:"start_time"},{text:"End Time",value:"end_time"},{text:"Status",value:"status"},{text:"Actions",value:"actions",sortable:!1}],items:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}},computed:{activeUser:function(){return this.$store.getters["user/getActiveUser"]}},mounted:function(){this.refreshItems()},methods:{save:function(){},editItem:function(t){this.$router.push("/booking/".concat(t))},deleteItem:function(t){var e=this,a={id:t};this.$store.dispatch("booking/delete",a).then((function(t){console.log(t),e.$store.commit("setSnackBarText","Booking successfully deleted!"),e.$store.commit("showSnackBar"),e.search=!1,e.refreshItems()})).catch((function(t){console.log(t),e.$store.commit("setSnackBarText","Error encountered while deleting your booking."),e.$store.commit("showSnackBar")}))},initialize:function(){},refreshItems:function(){var t=this;this.items=[],this.$store.dispatch("booking/getAll",this.activeUser).then((function(e){e.data.data.forEach((function(e){e.worker_fullname="".concat(e.worker_firstname," ").concat(e.worker_lastname),t.items.push(e)}))})).catch((function(t){console.log(t)}))},getColor:function(t){return"pending"==t?"red":"rejected"==t||"scheduled"==t?"blue":"ongoing"==t?"orange":"green"}}},at=et,ot=a("cc20"),nt=a("8fea"),rt=Object(g["a"])(at,Q,tt,!1,null,null,null),it=rt.exports;p()(rt,{VBtn:h["a"],VChip:ot["a"],VCol:K["a"],VContainer:N["a"],VDataTable:nt["a"],VIcon:C["a"],VRow:z["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-text-field",t._g({attrs:{label:"Booking Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},o))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:t.setDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)},ct=[],lt={data:function(){return{date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1}},methods:{setDate:function(){this.$emit("input",this.date),this.menu2=!1}}},ut=lt,mt=a("2e4b"),dt=a("e449"),ft=Object(g["a"])(ut,st,ct,!1,null,null,null),gt=ft.exports;p()(ft,{VDatePicker:mt["a"],VMenu:dt["a"],VTextField:M["a"]});var vt={name:"Dashboard",components:{BookingList:it,DatePicker:gt},data:function(){return{currentUser:"",name:"",search:!1,timeOptions:[],jobType:"Laundry",bookingDate:(new Date).toISOString().substr(0,10),startTime:"",endTime:"",availableWorkers:[]}},computed:{activeUser:function(){return this.$store.getters["user/getActiveUser"]},convertRating:function(t){return parseInt(t)}},mounted:function(){this.name=this.$route.params.name,this.timeOptions=this.getTimeOptions()},methods:{createBooking:function(t){var e=this,a={booking_date:this.bookingDate,start_time:this.startTime,end_time:this.endTime,worker_id:t};this.$store.dispatch("booking/create",a).then((function(t){console.log(t),e.$store.commit("setSnackBarText","New booking has been successfully created!"),e.$store.commit("showSnackBar"),e.search=!1,e.$refs.bookingList.refreshItems()})).catch((function(t){console.log(t),e.$store.commit("setSnackBarText","Error encountered while creating your booking."),e.$store.commit("showSnackBar")}))},signOut:function(){this.$store.commit("user/setActiveUser",null),this.$router.push("/login")},getTimeOptions:function(){for(var t=[],e=0;e<24;e++){var a=e<10?"0"+e:e;t.push("".concat(a,":00")),t.push("".concat(a,":30"))}return t},getWorkers:function(){var t=this;this.$store.dispatch("worker/getAll",{bookingDate:this.bookingDate,startTime:this.startTime,endTime:this.endTime}).then((function(e){console.log(e),t.availableWorkers=[],e.data.data.forEach((function(e){e.average_rating=parseInt(e.average_rating),t.availableWorkers.push(e)}))})).catch((function(t){console.log(t)}))},clearSearch:function(){this.availableWorkers=[]}}},pt=vt,ht=a("b0af"),kt=a("99d9"),bt=a("169a"),St=a("ce7e"),xt=a("8860"),It=a("da13"),_t=a("1800"),wt=a("5d23"),Bt=a("1d4d"),Ct=a("b974"),yt=a("e0c7"),Tt=Object(g["a"])(pt,J,Z,!1,null,null,null),At=Tt.exports;p()(Tt,{VBtn:h["a"],VCard:ht["a"],VCardText:kt["a"],VCardTitle:kt["b"],VCol:K["a"],VContainer:N["a"],VDialog:bt["a"],VDivider:St["a"],VIcon:C["a"],VList:xt["a"],VListItem:It["a"],VListItemAction:_t["a"],VListItemContent:wt["a"],VListItemSubtitle:wt["b"],VListItemTitle:wt["c"],VRating:Bt["a"],VRow:z["a"],VSelect:Ct["a"],VSpacer:T["a"],VSubheader:yt["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",[t._v("Profile Information")]),a("v-form",[a("p",[t._v("Username: "+t._s(t.userInfo.username))]),a("v-text-field",{attrs:{label:"First Name"},model:{value:t.userInfo.first_name,callback:function(e){t.$set(t.userInfo,"first_name",e)},expression:"userInfo.first_name"}}),a("v-text-field",{attrs:{label:"Last Name"},model:{value:t.userInfo.last_name,callback:function(e){t.$set(t.userInfo,"last_name",e)},expression:"userInfo.last_name"}}),a("v-text-field",{attrs:{label:"Address"},model:{value:t.userInfo.address,callback:function(e){t.$set(t.userInfo,"address",e)},expression:"userInfo.address"}}),a("v-text-field",{attrs:{label:"Email"},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}}),a("v-text-field",{attrs:{label:"Contact"},model:{value:t.userInfo.contact,callback:function(e){t.$set(t.userInfo,"contact",e)},expression:"userInfo.contact"}}),a("div",{staticClass:"d-flex flex-row"},[a("v-btn",{on:{click:t.goBack}},[t._v("Back")]),a("v-btn",{staticClass:"success",on:{click:t.updateProfile}},[t._v("Update")])],1)],1)],1)],1)],1)},Ut=[],jt={data:function(){return{userInfo:{}}},computed:{activeUser:function(){return this.$store.getters["user/getActiveUser"]}},beforeMount:function(){var t=this.$store.getters["user/getActiveUser"];console.log(t),Object.assign(this.userInfo,t)},methods:{goBack:function(){this.$router.go(-1)},updateProfile:function(){var t=this;console.log(this.userInfo),this.$store.dispatch("user/update",this.userInfo).then((function(e){e&&(t.$store.commit("user/setActiveUser",t.userInfo),t.$store.commit("setSnackBarText","Your profile has been successfully updated!"),t.$store.commit("showSnackBar"),t.$router.go(-1))})).catch((function(e){t.$store.commit("setSnackBarText","Error was encounted when updating your profile."),t.$store.commit("showSnackBar"),console.log(e)}))}}},Ot=jt,Pt=a("4bd4"),Rt=Object(g["a"])(Ot,Vt,Ut,!1,null,null,null),Lt=Rt.exports;p()(Rt,{VBtn:h["a"],VCol:K["a"],VContainer:N["a"],VForm:Pt["a"],VRow:z["a"],VTextField:M["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Booking Information")]),a("v-form",[a("p",[t._v("Creation Date: "+t._s(t.bookingInfo.creation_date))]),a("p",[t._v("Booking Date: "+t._s(t.bookingInfo.booking_date))]),a("p",[t._v("Start Time: "+t._s(t.bookingInfo.start_time))]),a("p",[t._v("End Time: "+t._s(t.bookingInfo.end_time))]),a("p",[t._v("Status: "+t._s(t.bookingInfo.status))]),a("p",[t._v("Worker: "+t._s(t.bookingInfo.worker_firstname)+" "+t._s(t.bookingInfo.worker_lastname))]),a("br"),"ongoing"==t.bookingInfo.status||"completed"==t.bookingInfo.status?[a("v-text-field",{attrs:{label:"Comments"},model:{value:t.bookingInfo.comments,callback:function(e){t.$set(t.bookingInfo,"comments",e)},expression:"bookingInfo.comments"}}),a("p",[t._v("Rating ("+t._s(t.bookingInfo.rating)+")")]),a("v-rating",{attrs:{color:"orange lighten-1",label:"Rating"},model:{value:t.bookingInfo.rating,callback:function(e){t.$set(t.bookingInfo,"rating",e)},expression:"bookingInfo.rating"}},[t._v("Rating")])]:t._e(),a("br"),a("v-btn",{staticClass:"mr-1",on:{click:t.goBack}},[t._v("Back")]),"pending"==t.bookingInfo.status?a("v-btn",{staticClass:"mr-1 blue",attrs:{dark:""},on:{click:function(e){return t.updateBookingStatus("scheduled")}}},[t._v("Approve")]):t._e(),"pending"==t.bookingInfo.status?a("v-btn",{staticClass:"mr-1 red",attrs:{dark:""},on:{click:function(e){return t.updateBookingStatus("rejected")}}},[t._v("Reject")]):t._e(),"scheduled"==t.bookingInfo.status?a("v-btn",{staticClass:"mr-1 orange",on:{click:function(e){return t.updateBookingStatus("ongoing")}}},[t._v("Start Job")]):t._e(),"ongoing"==t.bookingInfo.status?a("v-btn",{staticClass:"mr-1 success",attrs:{disabled:""==t.bookingInfo.rating||""==t.bookingInfo.comments},on:{click:function(e){return t.updateBookingStatus("completed")}}},[t._v("Mark as Complete")]):t._e()],2)],1)},$t=[],Dt={data:function(){return{bookingInfo:{}}},beforeMount:function(){this.getBookingInfo()},methods:{goBack:function(){this.$router.go(-1)},getBookingInfo:function(){var t=this,e=this.$route.params.id;this.$store.dispatch("booking/getByID",{id:e}).then((function(e){console.log(e.data),t.bookingInfo=e.data,"number"!=typeof t.bookingInfo.rating&&(t.bookingInfo.rating=parseInt(t.bookingInfo.rating))})).catch((function(t){console.log(t)}))},updateBookingStatus:function(t){var e=this;this.bookingInfo.status=t,this.$store.dispatch("booking/update",this.bookingInfo).then((function(t){console.log(t),e.$store.commit("setSnackBarText","Booking has been successfully updated!"),e.$store.commit("showSnackBar"),e.$router.go(-1)})).catch((function(t){console.log(t),e.$store.commit("setSnackBarText","Error was encounted when updating this booking."),e.$store.commit("showSnackBar")}))}}},Yt=Dt,Et=Object(g["a"])(Yt,Gt,$t,!1,null,null,null),qt=Et.exports;p()(Et,{VBtn:h["a"],VContainer:N["a"],VForm:Pt["a"],VRating:Bt["a"],VTextField:M["a"]});var Ft=[{path:"/login",component:X},{path:"/profile",component:Lt},{path:"/",component:At},{path:"/booking/:id",component:qt}],Ht=new Y({routes:Ft});Ht.beforeEach((function(t,e,a){var o=Ht.app.$store.getters["user/getActiveUser"];null==o?"/login"!=t.path?a({path:"/login",params:{nextUrl:t.fullPath}}):a():"/login"==t.path?a({path:"/",params:{nextUrl:t.fullPath}}):a()}));var Kt=Ht;o["a"].config.productionTip=!1,new o["a"]({vuetify:j,store:$,router:Kt,render:function(t){return t(V)}}).$mount("#app")},"9fdf":function(t,e,a){t.exports=a.p+"img/errunds-logo.8fedbf3e.svg"},b177:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.48b1d3d9.js.map